DATAS SEGMENT
  BUF DB 20  ;用户设定接受的字符数
  SBUF DB ?  ;预留单元，实际接收的字符数
  DATARECEIVE DB 20 DUP(?)
  DATARESULT  DB 20 DUP(?)
  CR DB 0DH,0AH,'$'
DATAS ENDS

STACKS SEGMENT
STACKS ENDS

CODES SEGMENT
   ASSUME CS:CODES,DS:DATAS,SS:STACKS
START:
MOV AX,DATAS
MOV DS,AX
;此处输入代码
MOV DX,OFFSET BUF
MOV AH,10
INT 21H
;换行
MOV DX,OFFSET CR
MOV AH,9
INT 21H
;初始化
MOV CX,0
MOV CL,SBUF
MOV BX,0

DEAL:
MOV AL,DATARECEIVE[BX]
CMP AL,41H
JB NEXT
CMP AL,5AH
JA NEXT
ADD AL,20H

NEXT:
MOV DATARESULT[BX],AL
INC BX
LOOP DEAL

MOV DX,OFFSET DATARESULT
MOV AH,9
INT 21H

MOV AH,4CH
INT 21H
CODES ENDS
END START

